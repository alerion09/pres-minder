---
import AppLayout from "@/layouts/AppLayout.astro";
import SettingsHeader from "@/components/settings/SettingsHeader.astro";
import DeleteAccountSection from "@/components/settings/DeleteAccountSection.astro";

// Get user email from authenticated session
const { user } = Astro.locals;

// Redirect to login if not authenticated (additional safety check)
if (!user) {
  return Astro.redirect("/login");
}

const userEmail = user.email;
---

<AppLayout title="Ustawienia konta">
  <SettingsHeader />

  <div class="space-y-8">
    <DeleteAccountSection userEmail={userEmail} />

    <!-- Miejsce na kolejne sekcje ustawień w przyszłości -->
  </div>
</AppLayout>

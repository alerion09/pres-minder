---
import LogoutButton from "@/components/auth/LogoutButton";
import SettingsLink from "@/components/settings/SettingsLink.astro";

interface Props {
  currentPath: string;
  userEmail?: string;
}

const { currentPath, userEmail } = Astro.props;
const isSettingsActive = currentPath === "/settings";
---

<header class="sticky top-0 z-50 w-full border-b bg-background">
  <nav class="container mx-auto flex h-16 items-center justify-between px-4" aria-label="Nawigacja główna">
    <!-- Brand Logo -->
    <a
      href="/"
      class="text-xl font-bold text-foreground transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
      aria-label="Strona główna"
    >
      PresMinder
    </a>

    <!-- User Info and Navigation Actions -->
    <div class="flex items-center gap-4">
      {
        userEmail && (
          <span class="hidden text-sm text-muted-foreground md:inline" aria-label="Zalogowany użytkownik">
            {userEmail}
          </span>
        )
      }
      <div class="flex items-center gap-2">
        <SettingsLink active={isSettingsActive} />
        <LogoutButton client:only="react" />
      </div>
    </div>
  </nav>
</header>
